<!DOCTYPE html>

<html>
<head>
  <title>jade.js</title>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, target-densitydpi=160dpi, initial-scale=1.0; maximum-scale=1.0; user-scalable=0;">
  <link rel="stylesheet" media="all" href="docco.css" />
</head>
<body>
  <div id="container">
    <div id="background"></div>
    
      <ul id="jump_to">
        <li>
          <a class="large" href="javascript:void(0);">Jump To &hellip;</a>
          <a class="small" href="javascript:void(0);">+</a>
          <div id="jump_wrapper">
          <div id="jump_page">
            
              
              <a class="source" href="app.html">
                app.js
              </a>
            
              
              <a class="source" href="about.controller.html">
                about.controller.js
              </a>
            
              
              <a class="source" href="about.html.html">
                about.html.js
              </a>
            
              
              <a class="source" href="about.html">
                about.js
              </a>
            
              
              <a class="source" href="about.html">
                about.js
              </a>
            
              
              <a class="source" href="about.html">
                about.js
              </a>
            
              
              <a class="source" href="addressBook.edit.controller.html">
                addressBook.edit.controller.js
              </a>
            
              
              <a class="source" href="addressBook.edit.html.html">
                addressBook.edit.html.js
              </a>
            
              
              <a class="source" href="addressBook.edit.html">
                addressBook.edit.js
              </a>
            
              
              <a class="source" href="addressBook.edit.html">
                addressBook.edit.js
              </a>
            
              
              <a class="source" href="addressBook.edit.html">
                addressBook.edit.js
              </a>
            
              
              <a class="source" href="addressBook.list.controller.html">
                addressBook.list.controller.js
              </a>
            
              
              <a class="source" href="addressBook.list.html.html">
                addressBook.list.html.js
              </a>
            
              
              <a class="source" href="addressBook.list.html">
                addressBook.list.js
              </a>
            
              
              <a class="source" href="addressBook.list.html">
                addressBook.list.js
              </a>
            
              
              <a class="source" href="addressBook.list.html">
                addressBook.list.js
              </a>
            
              
              <a class="source" href="all.html">
                all.js
              </a>
            
              
              <a class="source" href="browser.banner.html">
                browser.banner.js
              </a>
            
              
              <a class="source" href="home.controller.html">
                home.controller.js
              </a>
            
              
              <a class="source" href="home.html.html">
                home.html.js
              </a>
            
              
              <a class="source" href="home.html">
                home.js
              </a>
            
              
              <a class="source" href="home.html">
                home.js
              </a>
            
              
              <a class="source" href="home.html">
                home.js
              </a>
            
              
              <a class="source" href="i18n.html">
                i18n.js
              </a>
            
              
              <a class="source" href="jade.html">
                jade.js
              </a>
            
              
              <a class="source" href="jquery.bbq.html">
                jquery.bbq.js
              </a>
            
              
              <a class="source" href="jquery.migrate.html">
                jquery.migrate.js
              </a>
            
              
              <a class="source" href="json2.html">
                json2.js
              </a>
            
              
              <a class="source" href="language.html">
                language.js
              </a>
            
              
              <a class="source" href="layout.default.controller.html">
                layout.default.controller.js
              </a>
            
              
              <a class="source" href="layout.default.html.html">
                layout.default.html.js
              </a>
            
              
              <a class="source" href="layout.default.html">
                layout.default.js
              </a>
            
              
              <a class="source" href="layout.footer.controller.html">
                layout.footer.controller.js
              </a>
            
              
              <a class="source" href="layout.footer.html.html">
                layout.footer.html.js
              </a>
            
              
              <a class="source" href="layout.footer.html">
                layout.footer.js
              </a>
            
              
              <a class="source" href="layout.header.controller.html">
                layout.header.controller.js
              </a>
            
              
              <a class="source" href="layout.header.html.html">
                layout.header.html.js
              </a>
            
              
              <a class="source" href="layout.header.html">
                layout.header.js
              </a>
            
              
              <a class="source" href="layout.header.html">
                layout.header.js
              </a>
            
              
              <a class="source" href="layout.header.html">
                layout.header.js
              </a>
            
              
              <a class="source" href="layout.simple.controller.html">
                layout.simple.controller.js
              </a>
            
              
              <a class="source" href="layout.simple.html.html">
                layout.simple.html.js
              </a>
            
              
              <a class="source" href="layout.simple.html">
                layout.simple.js
              </a>
            
              
              <a class="source" href="log.html">
                log.js
              </a>
            
              
              <a class="source" href="moment.html">
                moment.js
              </a>
            
              
              <a class="source" href="multitracker.html">
                multitracker.js
              </a>
            
              
              <a class="source" href="myServices.controller.html">
                myServices.controller.js
              </a>
            
              
              <a class="source" href="myServices.html.html">
                myServices.html.js
              </a>
            
              
              <a class="source" href="myServices.html">
                myServices.js
              </a>
            
              
              <a class="source" href="myServices.html">
                myServices.js
              </a>
            
              
              <a class="source" href="moment.lang.html">
                moment.lang.js
              </a>
            
              
              <a class="source" href="moment.lang.html">
                moment.lang.js
              </a>
            
              
              <a class="source" href="require.config.html">
                require.config.js
              </a>
            
              
              <a class="source" href="require.html">
                require.js
              </a>
            
              
              <a class="source" href="service.list.html">
                service.list.js
              </a>
            
              
              <a class="source" href="service.list.controller.html">
                service.list.controller.js
              </a>
            
              
              <a class="source" href="service.list.html.html">
                service.list.html.js
              </a>
            
              
              <a class="source" href="service.thumb.html">
                service.thumb.js
              </a>
            
              
              <a class="source" href="service.thumb.controller.html">
                service.thumb.controller.js
              </a>
            
              
              <a class="source" href="service.thumb.html.html">
                service.thumb.html.js
              </a>
            
              
              <a class="source" href="serviceCatalog.html">
                serviceCatalog.js
              </a>
            
              
              <a class="source" href="serviceCatalog.html">
                serviceCatalog.js
              </a>
            
              
              <a class="source" href="serviceCatalog.html">
                serviceCatalog.js
              </a>
            
              
              <a class="source" href="serviceCatalog.controller.html">
                serviceCatalog.controller.js
              </a>
            
              
              <a class="source" href="serviceCatalog.html.html">
                serviceCatalog.html.js
              </a>
            
              
              <a class="source" href="serviceDetail.html">
                serviceDetail.js
              </a>
            
              
              <a class="source" href="serviceDetail.html">
                serviceDetail.js
              </a>
            
              
              <a class="source" href="serviceDetail.html">
                serviceDetail.js
              </a>
            
              
              <a class="source" href="serviceDetail.controller.html">
                serviceDetail.controller.js
              </a>
            
              
              <a class="source" href="serviceDetail.html.html">
                serviceDetail.html.js
              </a>
            
              
              <a class="source" href="servicePlan.html">
                servicePlan.js
              </a>
            
              
              <a class="source" href="servicePlan.html">
                servicePlan.js
              </a>
            
              
              <a class="source" href="servicePlan.html">
                servicePlan.js
              </a>
            
              
              <a class="source" href="servicePlan.controller.html">
                servicePlan.controller.js
              </a>
            
              
              <a class="source" href="servicePlan.html.html">
                servicePlan.html.js
              </a>
            
              
              <a class="source" href="settings.html">
                settings.js
              </a>
            
              
              <a class="source" href="sideBar.html">
                sideBar.js
              </a>
            
              
              <a class="source" href="sideBar.html">
                sideBar.js
              </a>
            
              
              <a class="source" href="sideBar.html">
                sideBar.js
              </a>
            
              
              <a class="source" href="sideBar.controller.html">
                sideBar.controller.js
              </a>
            
              
              <a class="source" href="sideBar.html.html">
                sideBar.html.js
              </a>
            
              
              <a class="source" href="tmpst.html">
                tmpst.js
              </a>
            
              
              <a class="source" href="useragent.html">
                useragent.js
              </a>
            
              
              <a class="source" href="all.html">
                all.js
              </a>
            
              
              <a class="source" href="dash.html">
                dash.js
              </a>
            
              
              <a class="source" href="serviceModal.html">
                serviceModal.js
              </a>
            
              
              <a class="source" href="about.html">
                about.js
              </a>
            
              
              <a class="source" href="addressBook.html">
                addressBook.js
              </a>
            
              
              <a class="source" href="all.html">
                all.js
              </a>
            
              
              <a class="source" href="home.html">
                home.js
              </a>
            
              
              <a class="source" href="my.services.html">
                my.services.js
              </a>
            
              
              <a class="source" href="serviceDetail.html">
                serviceDetail.js
              </a>
            
              
              <a class="source" href="services.html">
                services.js
              </a>
            
              
              <a class="source" href="all.html">
                all.js
              </a>
            
              
              <a class="source" href="onLastRepeat.html">
                onLastRepeat.js
              </a>
            
              
              <a class="source" href="vm.component.html">
                vm.component.js
              </a>
            
              
              <a class="source" href="vm.errorPanel.html">
                vm.errorPanel.js
              </a>
            
              
              <a class="source" href="vm.parser.html">
                vm.parser.js
              </a>
            
              
              <a class="source" href="addressBookModel.html">
                addressBookModel.js
              </a>
            
              
              <a class="source" href="all.html">
                all.js
              </a>
            
              
              <a class="source" href="errorHttpInterceptor.html">
                errorHttpInterceptor.js
              </a>
            
              
              <a class="source" href="errorService.html">
                errorService.js
              </a>
            
              
              <a class="source" href="filterService.html">
                filterService.js
              </a>
            
              
              <a class="source" href="jsonHttpInterceptor.html">
                jsonHttpInterceptor.js
              </a>
            
              
              <a class="source" href="serviceModel.html">
                serviceModel.js
              </a>
            
              
              <a class="source" href="servicePlanModel.html">
                servicePlanModel.js
              </a>
            
              
              <a class="source" href="sideBarModel.html">
                sideBarModel.js
              </a>
            
              
              <a class="source" href="all.html">
                all.js
              </a>
            
              
              <a class="source" href="dash.html">
                dash.js
              </a>
            
              
              <a class="source" href="all.html">
                all.js
              </a>
            
              
              <a class="source" href="errorPanel.html.html">
                errorPanel.html.js
              </a>
            
              
              <a class="source" href="errorPanel.html">
                errorPanel.js
              </a>
            
              
              <a class="source" href="errorPanel.html">
                errorPanel.js
              </a>
            
              
              <a class="source" href="service.modal.html">
                service.modal.js
              </a>
            
              
              <a class="source" href="service.modal.html.html">
                service.modal.html.js
              </a>
            
              
              <a class="source" href="service.modal.html">
                service.modal.js
              </a>
            
          </div>
        </li>
      </ul>
    
    <ul class="sections">
        
          <li id="title">
              <div class="annotation">
                  <h1>jade.js</h1>
              </div>
          </li>
        
        
        
        <li id="section-1">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-1">&#182;</a>
              </div>
              
            </div>
            
            <div class="content"><div class='highlight'><pre>!<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">if</span>(<span class="hljs-string">"object"</span>==<span class="hljs-keyword">typeof</span> exports)<span class="hljs-built_in">module</span>.exports=e();<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-string">"function"</span>==<span class="hljs-keyword">typeof</span> define&amp;&amp;define.amd)define(e);<span class="hljs-keyword">else</span>{<span class="hljs-keyword">var</span> f;<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span>?f=<span class="hljs-built_in">window</span>:<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> global?f=global:<span class="hljs-string">"undefined"</span>!=<span class="hljs-keyword">typeof</span> self&amp;&amp;(f=self),f.jade=e()}}(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<span class="hljs-keyword">var</span> define,<span class="hljs-built_in">module</span>,exports;<span class="hljs-keyword">return</span> (<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">e</span>(<span class="hljs-params">t,n,r</span>)</span>{<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">s</span>(<span class="hljs-params">o,u</span>)</span>{<span class="hljs-keyword">if</span>(!n[o]){<span class="hljs-keyword">if</span>(!t[o]){<span class="hljs-keyword">var</span> a=<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span>==<span class="hljs-string">"function"</span>&amp;&amp;<span class="hljs-built_in">require</span>;<span class="hljs-keyword">if</span>(!u&amp;&amp;a)<span class="hljs-keyword">return</span> a(o,!<span class="hljs-number">0</span>);<span class="hljs-keyword">if</span>(i)<span class="hljs-keyword">return</span> i(o,!<span class="hljs-number">0</span>);<span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">"Cannot find module '"</span>+o+<span class="hljs-string">"'"</span>)}<span class="hljs-keyword">var</span> f=n[o]={exports:{}};t[o][<span class="hljs-number">0</span>].call(f.exports,<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">e</span>)</span>{<span class="hljs-keyword">var</span> n=t[o][<span class="hljs-number">1</span>][e];<span class="hljs-keyword">return</span> s(n?n:e)},f,f.exports,e,t,n,r)}<span class="hljs-keyword">return</span> n[o].exports}<span class="hljs-keyword">var</span> i=<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">require</span>==<span class="hljs-string">"function"</span>&amp;&amp;<span class="hljs-built_in">require</span>;<span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> o=<span class="hljs-number">0</span>;o&lt;r.length;o++)s(r[o]);<span class="hljs-keyword">return</span> s})({<span class="hljs-number">1</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">_dereq_,module,exports</span>)</span>{
<span class="hljs-pi">'use strict'</span>;

<span class="hljs-comment">/**
 * Merge two attribute objects giving precedence
 * to values in object `b`. Classes are special-cased
 * allowing for arrays and merging/joining appropriately
 * resulting in a string.
 *
 * @param {Object} a
 * @param {Object} b
 * @return {Object} a
 * @api private
 */</span>

exports.merge = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">merge</span>(<span class="hljs-params">a, b</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-built_in">arguments</span>.length === <span class="hljs-number">1</span>) {
    <span class="hljs-keyword">var</span> attrs = a[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">1</span>; i &lt; a.length; i++) {
      attrs = merge(attrs, a[i]);
    }
    <span class="hljs-keyword">return</span> attrs;
  }
  <span class="hljs-keyword">var</span> ac = a[<span class="hljs-string">'class'</span>];
  <span class="hljs-keyword">var</span> bc = b[<span class="hljs-string">'class'</span>];

  <span class="hljs-keyword">if</span> (ac || bc) {
    ac = ac || [];
    bc = bc || [];
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Array</span>.isArray(ac)) ac = [ac];
    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">Array</span>.isArray(bc)) bc = [bc];
    a[<span class="hljs-string">'class'</span>] = ac.concat(bc).filter(nulls);
  }

  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> key <span class="hljs-keyword">in</span> b) {
    <span class="hljs-keyword">if</span> (key != <span class="hljs-string">'class'</span>) {
      a[key] = b[key];
    }
  }

  <span class="hljs-keyword">return</span> a;
};

<span class="hljs-comment">/**
 * Filter null `val`s.
 *
 * @param {*} val
 * @return {Boolean}
 * @api private
 */</span>

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">nulls</span>(<span class="hljs-params">val</span>) </span>{
  <span class="hljs-keyword">return</span> val != <span class="hljs-literal">null</span> &amp;&amp; val !== <span class="hljs-string">''</span>;
}

<span class="hljs-comment">/**
 * join array as classes.
 *
 * @param {*} val
 * @return {String}
 */</span>
exports.joinClasses = joinClasses;
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">joinClasses</span>(<span class="hljs-params">val</span>) </span>{
  <span class="hljs-keyword">return</span> <span class="hljs-built_in">Array</span>.isArray(val) ? val.map(joinClasses).filter(nulls).join(<span class="hljs-string">' '</span>) : val;
}

<span class="hljs-comment">/**
 * Render the given classes.
 *
 * @param {Array} classes
 * @param {Array.&lt;Boolean&gt;} escaped
 * @return {String}
 */</span>
exports.cls = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">cls</span>(<span class="hljs-params">classes, escaped</span>) </span>{
  <span class="hljs-keyword">var</span> buf = [];
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; classes.length; i++) {
    <span class="hljs-keyword">if</span> (escaped &amp;&amp; escaped[i]) {
      buf.push(exports.escape(joinClasses([classes[i]])));
    } <span class="hljs-keyword">else</span> {
      buf.push(joinClasses(classes[i]));
    }
  }
  <span class="hljs-keyword">var</span> text = joinClasses(buf);
  <span class="hljs-keyword">if</span> (text.length) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">' class="'</span> + text + <span class="hljs-string">'"'</span>;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
  }
};

<span class="hljs-comment">/**
 * Render the given attribute.
 *
 * @param {String} key
 * @param {String} val
 * @param {Boolean} escaped
 * @param {Boolean} terse
 * @return {String}
 */</span>
exports.attr = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attr</span>(<span class="hljs-params">key, val, escaped, terse</span>) </span>{
  <span class="hljs-keyword">if</span> (<span class="hljs-string">'boolean'</span> == <span class="hljs-keyword">typeof</span> val || <span class="hljs-literal">null</span> == val) {
    <span class="hljs-keyword">if</span> (val) {
      <span class="hljs-keyword">return</span> <span class="hljs-string">' '</span> + (terse ? key : key + <span class="hljs-string">'="'</span> + key + <span class="hljs-string">'"'</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-keyword">return</span> <span class="hljs-string">''</span>;
    }
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-number">0</span> == key.indexOf(<span class="hljs-string">'data'</span>) &amp;&amp; <span class="hljs-string">'string'</span> != <span class="hljs-keyword">typeof</span> val) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">' '</span> + key + <span class="hljs-string">"='"</span> + <span class="hljs-built_in">JSON</span>.stringify(val).replace(<span class="hljs-regexp">/'/g</span>, <span class="hljs-string">'&amp;apos;'</span>) + <span class="hljs-string">"'"</span>;
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (escaped) {
    <span class="hljs-keyword">return</span> <span class="hljs-string">' '</span> + key + <span class="hljs-string">'="'</span> + exports.escape(val) + <span class="hljs-string">'"'</span>;
  } <span class="hljs-keyword">else</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-string">' '</span> + key + <span class="hljs-string">'="'</span> + val + <span class="hljs-string">'"'</span>;
  }
};

<span class="hljs-comment">/**
 * Render the given attributes object.
 *
 * @param {Object} obj
 * @param {Object} escaped
 * @return {String}
 */</span>
exports.attrs = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">attrs</span>(<span class="hljs-params">obj, terse</span>)</span>{
  <span class="hljs-keyword">var</span> buf = [];

  <span class="hljs-keyword">var</span> keys = <span class="hljs-built_in">Object</span>.keys(obj);

  <span class="hljs-keyword">if</span> (keys.length) {
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; keys.length; ++i) {
      <span class="hljs-keyword">var</span> key = keys[i]
        , val = obj[key];

      <span class="hljs-keyword">if</span> (<span class="hljs-string">'class'</span> == key) {
        <span class="hljs-keyword">if</span> (val = joinClasses(val)) {
          buf.push(<span class="hljs-string">' '</span> + key + <span class="hljs-string">'="'</span> + val + <span class="hljs-string">'"'</span>);
        }
      } <span class="hljs-keyword">else</span> {
        buf.push(exports.attr(key, val, <span class="hljs-literal">false</span>, terse));
      }
    }
  }

  <span class="hljs-keyword">return</span> buf.join(<span class="hljs-string">''</span>);
};

<span class="hljs-comment">/**
 * Escape the given string of `html`.
 *
 * @param {String} html
 * @return {String}
 * @api private
 */</span>

exports.escape = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">escape</span>(<span class="hljs-params">html</span>)</span>{
  <span class="hljs-keyword">var</span> result = <span class="hljs-built_in">String</span>(html)
    .replace(<span class="hljs-regexp">/&amp;/g</span>, <span class="hljs-string">'&amp;amp;'</span>)
    .replace(<span class="hljs-regexp">/&lt;/g</span>, <span class="hljs-string">'&amp;lt;'</span>)
    .replace(<span class="hljs-regexp">/&gt;/g</span>, <span class="hljs-string">'&amp;gt;'</span>)
    .replace(<span class="hljs-regexp">/"/g</span>, <span class="hljs-string">'&amp;quot;'</span>);
  <span class="hljs-keyword">if</span> (result === <span class="hljs-string">''</span> + html) <span class="hljs-keyword">return</span> html;
  <span class="hljs-keyword">else</span> <span class="hljs-keyword">return</span> result;
};

<span class="hljs-comment">/**
 * Re-throw the given `err` in context to the
 * the jade in `filename` at the given `lineno`.
 *
 * @param {Error} err
 * @param {String} filename
 * @param {String} lineno
 * @api private
 */</span>

exports.rethrow = <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rethrow</span>(<span class="hljs-params">err, filename, lineno, str</span>)</span>{
  <span class="hljs-keyword">if</span> (!(err <span class="hljs-keyword">instanceof</span> <span class="hljs-built_in">Error</span>)) <span class="hljs-keyword">throw</span> err;
  <span class="hljs-keyword">if</span> ((<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">window</span> != <span class="hljs-string">'undefined'</span> || !filename) &amp;&amp; !str) {
    err.message += <span class="hljs-string">' on line '</span> + lineno;
    <span class="hljs-keyword">throw</span> err;
  }
  <span class="hljs-keyword">try</span> {
    str =  str || _dereq_(<span class="hljs-string">'fs'</span>).readFileSync(filename, <span class="hljs-string">'utf8'</span>)
  } <span class="hljs-keyword">catch</span> (ex) {
    rethrow(err, <span class="hljs-literal">null</span>, lineno)
  }
  <span class="hljs-keyword">var</span> context = <span class="hljs-number">3</span>
    , lines = str.split(<span class="hljs-string">'\n'</span>)
    , start = <span class="hljs-built_in">Math</span>.max(lineno - context, <span class="hljs-number">0</span>)
    , end = <span class="hljs-built_in">Math</span>.min(lines.length, lineno + context);</pre></div></div>
            
        </li>
        
        
        <li id="section-2">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-2">&#182;</a>
              </div>
              <p>Error context</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  <span class="hljs-keyword">var</span> context = lines.slice(start, end).map(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">line, i</span>)</span>{
    <span class="hljs-keyword">var</span> curr = i + start + <span class="hljs-number">1</span>;
    <span class="hljs-keyword">return</span> (curr == lineno ? <span class="hljs-string">'  &gt; '</span> : <span class="hljs-string">'    '</span>)
      + curr
      + <span class="hljs-string">'| '</span>
      + line;
  }).join(<span class="hljs-string">'\n'</span>);</pre></div></div>
            
        </li>
        
        
        <li id="section-3">
            <div class="annotation">
              
              <div class="pilwrap ">
                <a class="pilcrow" href="#section-3">&#182;</a>
              </div>
              <p>Alter exception message</p>

            </div>
            
            <div class="content"><div class='highlight'><pre>  err.path = filename;
  err.message = (filename || <span class="hljs-string">'Jade'</span>) + <span class="hljs-string">':'</span> + lineno
    + <span class="hljs-string">'\n'</span> + context + <span class="hljs-string">'\n\n'</span> + err.message;
  <span class="hljs-keyword">throw</span> err;
};

},{<span class="hljs-string">"fs"</span>:<span class="hljs-number">2</span>}],<span class="hljs-number">2</span>:[<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">_dereq_,module,exports</span>)</span>{

},{}]},{},[<span class="hljs-number">1</span>])
(<span class="hljs-number">1</span>)
});</pre></div></div>
            
        </li>
        
    </ul>
  </div>
</body>
</html>
